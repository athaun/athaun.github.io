<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>New webpage</title>
        <link rel="stylesheet" href="index.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="data/fontawesome/css/all.css" rel="stylesheet">
    </head>
    <body onload="loadWords()">
        <span id="backgroundText" >

        </span>
        <div class="header">
            <div>
                <div class="container">
                    <h1 class="title">Asher Haun</h1>
                    <div>
                        <button onclick="scrollRight(1)"><i class="fas fa-angle-right"></i></button>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <script>
            let playGame = false;

            let widths = []
            function scrollRight (stage) {
                let lines = document.querySelector("#backgroundText").children
                let name = document.querySelector(".container")
                let button = document.querySelector(".container button")
                for (var i = 0; i < lines.length; i ++) {
                    let opacity = 1.0;
                    let mLeft = widths[i];
                    lines[i].style.transition = "all 0.5s"
                    name.style.transition = "all 1.7s"
                    button.style.transition = "all 0.1s"
                    while (opacity >= 0) {
                        opacity -= 0.02;
                        mLeft --;
                        lines[i].style.marginLeft = mLeft.toString() + "px"
                        lines[i].style.opacity = opacity.toString()
                        name.style.opacity = opacity.toString()
                        button.style.opacity = opacity.toString()
                    }
                    playGame = true;
                }
            }
            
            var words = ["Game Dev", "Unity 3D", "Web Design", "Java", "Python", "Javascript", "Linux", "Web Dev", "Arduino", "OpenGL", "HTML & CSS", "Git"]
            
            function loadWords (event) {
                let div = document.querySelector("#backgroundText")
                for (var i = 0; i < words.length; i++) {
                    availableWords = words
                    let line = document.createElement("h1");
                    for (var j = 0; j < availableWords.length; j++) {
                        let word = document.createElement("span");
                        let k = Math.round(Math.random() * (availableWords.length - 1))
                        word.innerText = availableWords[k] + " "
                        line.append(word)
                    }
                    
                    widths[i] = -(Math.random() * 1000);
                    line.style.marginLeft = widths[i].toString() + "px"
                    line.style.opacity = "0"
                    line.style.transition = "all 0.5s"
                    div.append(line)
                }
                
                let lines = div.children
                for (var i = 0; i < lines.length; i ++) {
                    let element = lines[i]
                    setTimeout(() => {
                        element.style.opacity = 1
                    }, 0);   
                } 
            }
            </script>
            <script src="https://cdn.jsdelivr.net/npm/p5@1.4.0/lib/p5.js"></script>
            <script src="assets/js/sketch.js"></script>
    </body>
    </html>